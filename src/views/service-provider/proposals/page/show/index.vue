<template>
    <div class="w-100">
      <div class="container pt-5">
            <div class="row justify-content-between">
                <div class="col-md-6">
                    <h3>
                        <span>
                            <svg width="56" height="56" viewBox="0 0 56 56" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M28.8818 0C29.4438 0.157488 30.0219 0.271229 30.5619 0.482671C31.4408 0.82681 31.9588 1.44072 31.8898 2.45418C31.8619 2.86832 31.9192 3.29266 31.9749 3.70679C32.1275 4.82816 32.7335 5.49457 33.8575 5.69143C35.2646 5.93787 36.6864 6.09244 38.0906 6.352C39.6254 6.6349 41.1265 7.04612 42.4778 7.86564C44.5335 9.1095 44.9913 10.906 43.7001 12.9271C42.3649 15.0197 41.0252 17.1064 40.0509 19.3987C38.924 22.0512 38.2021 24.7868 38.5778 27.6901C38.7215 28.7998 38.9593 29.9285 39.3657 30.9667C39.9732 32.5212 40.7684 34.0028 41.483 35.5149C41.5417 35.5106 41.6004 35.5062 41.6591 35.5018C43.0017 32.3521 44.3442 29.2008 45.7088 26.0001C45.0383 25.6136 44.3692 25.2476 43.7206 24.8495C42.0303 23.8098 41.373 21.6312 42.1991 19.8697C42.4881 19.2529 42.8623 19.0546 43.3494 19.2558C43.863 19.4687 43.9774 19.8901 43.6986 20.5361C43.2247 21.6327 43.5636 22.7993 44.5834 23.4555C45.1366 23.8113 45.722 24.116 46.3706 24.4893C46.9766 22.9218 47.9919 21.8018 49.7263 21.5525C50.7226 21.4096 51.6646 21.6035 52.4995 22.1854C53.5193 22.8955 54.0768 23.8754 54.206 25.1105C54.3365 26.3573 53.7951 27.3752 53.1392 28.2982C53.6454 28.7765 54.1766 29.1775 54.5816 29.6791C55.8479 31.254 55.9124 33.3057 54.7782 35.0833C52.9441 37.9604 51.0894 40.8243 49.2509 43.6985C48.3588 45.0925 48.5642 46.6616 49.7468 47.7027C50.2941 48.1839 50.9456 48.3808 51.6573 48.4406C54.2514 48.6535 56.0489 50.644 55.999 53.2367C55.9873 53.8564 56.0049 54.4762 55.9858 55.0959C55.9682 55.6413 55.6747 55.9256 55.1758 55.9242C54.6799 55.9227 54.3879 55.6398 54.3674 55.0915C54.3409 54.3814 54.3776 53.6683 54.3233 52.9611C54.1971 51.3133 53.148 50.208 51.4958 50.0767C48.4791 49.8361 46.9868 47.3411 47.0499 45.2748C47.0778 44.378 47.3801 43.5731 47.8672 42.8192C49.7087 39.9683 51.5413 37.1131 53.3711 34.2536C54.4319 32.597 53.9771 30.8166 52.2002 29.8016C52.1018 29.9372 51.9947 30.0758 51.8994 30.2216C49.449 33.9167 47.0015 37.6148 44.5423 41.3055C44.3442 41.603 44.2973 41.8611 44.3868 42.214C44.8607 44.0966 45.0397 46.0185 45.0485 47.955C45.0559 49.3986 44.1109 50.3509 42.6466 50.3713C41.4551 50.3888 40.2622 50.3961 39.0708 50.364C38.6262 50.3523 38.3797 50.5113 38.1449 50.8714C37.1589 52.3851 36.1435 53.8797 35.1355 55.3788C34.7613 55.9358 34.3549 56.0744 33.9015 55.8148C33.4628 55.564 33.3865 55.2038 33.6491 54.5753C34.1539 53.365 34.663 52.1561 35.1692 50.9473C35.2382 50.7825 35.2983 50.6148 35.379 50.4048C33.7914 50.4048 32.2566 50.4048 30.6397 50.4048C30.6397 50.6002 30.6397 50.7927 30.6397 50.9852C30.6397 52.2976 30.6426 53.61 30.6382 54.9224C30.6353 55.5786 30.3447 55.9067 29.7974 55.8965C29.2707 55.8863 28.9978 55.5713 28.9963 54.9399C28.9904 53.4481 28.9948 51.9564 28.9948 50.4194C28.3316 50.4194 27.7036 50.4194 27.0096 50.4194C27.0096 51.1106 27.0096 51.7989 27.0096 52.4857C27.0096 53.2688 27.011 54.0533 27.0096 54.8363C27.0066 55.5596 26.7528 55.8892 26.1982 55.8965C25.6362 55.9038 25.3662 55.5727 25.3647 54.8597C25.3618 53.5662 25.3633 52.2713 25.3633 50.9779C25.3633 50.8 25.3633 50.6221 25.3633 50.3786C24.2188 50.3786 23.1256 50.3756 22.031 50.3829C21.9518 50.3829 21.8564 50.4354 21.7977 50.4923C21.3546 50.9356 20.9672 51.4504 20.4728 51.8237C17.8903 53.7718 15.0834 55.2636 11.8465 55.8338C11.5809 55.8804 11.3183 55.9431 11.0542 56C10.2838 56 9.51352 56 8.74318 56C8.3118 55.9271 7.87895 55.8615 7.44903 55.7784C5.02505 55.3088 2.8916 54.3128 1.29371 52.372C0.489632 51.3949 0.0626486 50.2882 0.08906 49.002C0.119873 47.4723 0.103733 45.9412 0.0949292 44.4115C0.0817235 42.0084 0.140415 39.5994 0.020097 37.2006C-0.226409 32.3316 1.79553 28.7532 6.04482 26.4069C8.71824 24.9312 11.6572 24.3406 14.6696 24.0621C15.5338 23.9819 16.4025 23.9498 17.2961 23.8944C16.9762 21.9068 16.3981 20.0418 15.4663 18.3254C14.4172 16.3904 13.2522 14.5166 12.0857 12.6471C10.9632 10.8492 11.2435 9.26261 13.0013 8.06687C14.2954 7.18611 15.7745 6.75156 17.2902 6.46866C18.9086 6.16681 20.5461 5.96995 22.1704 5.69872C23.2401 5.51936 23.8211 4.93316 24.0046 3.87157C24.0823 3.42536 24.141 2.96019 24.1073 2.51251C24.0236 1.41739 24.5988 0.799104 25.5408 0.446215C26.0529 0.250814 26.5943 0.144364 27.1211 0C27.708 0 28.2949 0 28.8818 0ZM21.7963 48.7177C22.0222 48.7308 22.1836 48.7497 22.3436 48.7497C26.7631 48.7512 31.184 48.7468 35.6035 48.7599C35.9748 48.7614 36.145 48.6462 36.2873 48.3035C37.7297 44.8402 39.197 41.3872 40.632 37.921C40.7244 37.6979 40.6907 37.3494 40.5777 37.1263C40.0304 36.0355 39.4405 34.9652 38.8595 33.8905C36.5749 29.6616 36.2506 25.2797 37.784 20.7373C38.7597 17.8457 40.2534 15.2253 41.9115 12.6836C42.1697 12.2884 42.428 11.8845 42.6216 11.4558C42.9166 10.8054 42.8212 10.1594 42.2357 9.73361C41.6517 9.30927 41.0135 8.92284 40.3429 8.66182C38.434 7.91959 36.412 7.6469 34.3886 7.43984C31.9192 7.18756 30.7116 6.1114 30.3462 3.74762C30.2802 3.31599 30.2464 2.87561 30.2508 2.44106C30.2552 2.09109 30.1144 1.92777 29.7813 1.92339C28.6104 1.91173 27.4395 1.90152 26.2686 1.90298C25.8915 1.90298 25.7184 2.09255 25.7462 2.4921C25.7668 2.79832 25.714 3.11038 25.6905 3.41952C25.5115 5.77601 24.3963 6.99362 22.0589 7.36692C21.3355 7.48212 20.6034 7.54629 19.88 7.65711C18.0312 7.94146 16.1839 8.24331 14.4847 9.07596C12.8751 9.86631 12.6858 10.6188 13.6997 12.0828C15.1142 14.1272 16.401 16.2446 17.3885 18.5296C18.6416 21.4315 19.3547 24.4325 19.095 27.6172C18.8866 30.156 17.9622 32.4556 16.7664 34.6721C15.9359 36.212 15.0995 37.7489 14.3336 39.3209C13.9257 40.1579 13.6616 41.0649 13.3314 41.9413C13.3784 41.9807 13.4253 42.0201 13.4723 42.0609C14.1355 41.7299 14.8134 41.4251 15.459 41.062C17.2418 40.0587 18.8206 38.7901 20.2717 37.3596C20.7149 36.9236 21.1961 36.8536 21.5145 37.2502C21.698 37.4792 21.7845 37.8437 21.786 38.1485C21.8051 41.447 21.7977 44.7469 21.7977 48.0454C21.7963 48.2583 21.7963 48.4712 21.7963 48.7177ZM9.40347 26.7146C8.774 26.9683 8.20762 27.1652 7.67352 27.4291C7.51212 27.5079 7.35806 27.763 7.34632 27.9482C7.30523 28.5461 7.33605 29.1498 7.32871 29.7506C7.32137 30.3601 7.02204 30.6926 6.50555 30.6839C6.00961 30.6766 5.71468 30.3558 5.69414 29.7783C5.68093 29.4021 5.6912 29.0259 5.6912 28.4951C5.207 28.899 4.84164 29.2183 4.46161 29.5173C4.05957 29.8352 3.90257 30.2128 3.91577 30.7422C3.95392 32.2354 3.93632 33.7301 3.92458 35.2233C3.92018 35.878 3.49172 36.2295 2.9004 36.088C2.4206 35.9728 2.29147 35.6112 2.29147 35.1737C2.29147 34.8092 2.29147 34.4446 2.29001 34.08C2.29001 33.7359 2.29001 33.3918 2.29001 33.0476C2.11833 33.176 2.06404 33.3057 2.02296 33.4399C1.56516 34.9331 1.54609 36.454 1.76031 37.9837C1.92465 39.1561 2.6671 39.9581 3.54895 40.7252C4.47922 39.3121 5.73082 38.3526 7.1541 37.5958C9.19951 36.5065 11.4034 35.9393 13.6909 35.6418C13.9726 35.6053 14.3761 35.5208 14.4891 35.3254C15.6512 33.3189 16.7165 31.2569 17.1831 28.9661C17.4061 27.8739 17.4589 26.7467 17.5998 25.5451C16.5213 25.5932 15.6204 25.6326 14.6887 25.6734C14.6887 26.3675 14.6931 26.9669 14.6872 27.5662C14.6813 28.1728 14.382 28.5155 13.8729 28.5184C13.3622 28.5199 13.057 28.1786 13.0468 27.5691C13.038 27.0266 13.0453 26.4842 13.0453 25.8805C12.3381 26.019 11.7013 26.1444 11.0454 26.2727C11.0454 26.5279 11.0454 26.7262 11.0454 26.9246C11.0454 28.3638 11.0424 29.8031 11.0468 31.2424C11.0483 31.6565 10.9515 32.0065 10.5113 32.1552C9.89795 32.3637 9.4064 31.986 9.40347 31.2876C9.3976 29.7987 9.40347 28.3099 9.40347 26.7146ZM1.7339 41.377C1.7339 41.6205 1.7339 41.7955 1.7339 41.9705C1.7339 44.2293 1.77205 46.488 1.71923 48.7454C1.68988 49.9907 2.11833 51.0129 3.01485 51.8076C3.6766 52.3953 4.40585 52.9596 5.20113 53.3373C8.1636 54.7416 11.1833 54.6424 14.2147 53.5035C14.5845 53.365 14.7048 53.1915 14.7019 52.8021C14.6843 49.8157 14.6931 46.8278 14.6916 43.8414C14.6916 43.6839 14.6769 43.5264 14.6681 43.3368C14.0651 43.5468 13.506 43.7714 12.9294 43.9303C12.6271 44.0134 12.567 44.1622 12.5728 44.4319C12.586 44.9773 12.5904 45.5256 12.5699 46.071C12.5494 46.6251 12.2104 46.9386 11.7071 46.9182C11.2215 46.8978 10.9471 46.5974 10.9368 46.0447C10.9265 45.5037 10.9339 44.9613 10.9339 44.4072C10.2208 44.4072 9.57074 44.4072 8.8635 44.4072C8.8635 44.6346 8.8635 44.83 8.8635 45.0254C8.8635 46.3553 8.86204 47.6852 8.86204 49.0137C8.86204 49.4963 8.59792 49.7705 8.13866 49.8201C7.71314 49.8653 7.38006 49.6859 7.26562 49.2455C7.22013 49.0735 7.22306 48.8853 7.22306 48.7045C7.22013 47.3207 7.22893 45.9354 7.21133 44.5515C7.20986 44.3926 7.10275 44.1374 6.98389 44.0966C6.41752 43.8997 5.8306 43.7626 5.17472 43.5833C5.17472 44.0528 5.19086 44.4844 5.17031 44.9161C5.1439 45.4804 4.8211 45.7837 4.31048 45.7618C3.82627 45.7414 3.55629 45.4454 3.54455 44.8884C3.53281 44.2876 3.54895 43.6868 3.53428 43.086C3.52987 42.9358 3.49613 42.7317 3.39488 42.65C2.87839 42.2257 2.33843 41.8334 1.7339 41.377ZM51.6807 27.5764C51.9434 27.1141 52.25 26.6971 52.4335 26.2334C53.0336 24.7197 51.8524 23.0894 50.2208 23.1594C49.2054 23.2017 48.507 23.7165 48.1108 24.6468C44.94 32.1056 41.7677 39.563 38.5983 47.0232C38.5822 47.0626 38.6012 47.118 38.61 47.2594C42.695 41.1203 46.733 35.0512 50.7901 28.9559C50.3631 28.7123 50.0168 28.5169 49.6573 28.3113C49.5502 28.4892 49.4695 28.6292 49.3815 28.7663C49.0851 29.23 48.7036 29.3467 48.2649 29.1075C47.8276 28.8698 47.6955 28.463 47.9435 27.9934C48.3793 27.1725 48.8268 26.3573 49.289 25.5509C49.5458 25.1018 49.9889 24.9866 50.41 25.2155C50.8297 25.4445 50.9427 25.8571 50.7152 26.3384C50.6331 26.5119 50.545 26.684 50.4511 26.875C50.8664 27.1127 51.2435 27.327 51.6807 27.5764ZM16.3365 52.4332C16.3849 52.4711 16.4318 52.5076 16.4802 52.5455C17.5631 51.8105 18.643 51.0698 19.7332 50.345C20.0561 50.1307 20.169 49.8726 20.1676 49.4847C20.1514 46.4457 20.1588 43.4068 20.1573 40.3679C20.1573 40.1958 20.1397 40.0223 20.1309 39.8677C18.9028 40.7106 17.6996 41.5257 16.5125 42.3657C16.3995 42.4459 16.3467 42.6719 16.3438 42.8323C16.3276 43.6868 16.3365 44.5428 16.3365 45.3973C16.3365 47.7421 16.3365 50.0884 16.3365 52.4332ZM4.87245 41.6103C6.98243 42.6252 9.07626 42.9664 11.2728 42.634C11.3961 42.615 11.5413 42.4123 11.5883 42.2679C11.7614 41.7328 11.8627 41.1728 12.0563 40.645C12.4569 39.5586 12.9 38.4868 13.3608 37.3173C10.1166 37.9312 7.07046 38.7886 4.87245 41.6103ZM43.1293 43.7582C43.0604 43.7524 42.9914 43.7451 42.9224 43.7393C41.8293 45.3769 40.7362 47.0145 39.5814 48.7439C40.72 48.7439 41.7236 48.7585 42.7243 48.7366C43.1484 48.7279 43.4213 48.4727 43.3978 48.0337C43.3215 46.6091 43.2203 45.1844 43.1293 43.7582Z"
                                    fill="#1FB9B3" />
                            </svg>

                        </span>
                        <span class="m-c">
                      {{itemPage.title}}

                        </span>

                    </h3>
                </div>
                <div  class="col-md-6 d-flex gap-2 justify-content-end">
                    <template v-if="isOwner">
                        <div>
                        <button @click="openEditDialog" style="height: 40px;" class="btn-main px-3 w-100 border-0 rounded-2">
                            <i class="fa-regular fa-pen-to-square"></i>

                            {{$t('modification')}}
                        </button>
                    </div>
                    <div>
                        <button  @click="openDeleteDialog" style="height: 40px;"
                            class="btn-main btn-danger px-3 w-100 border-0 rounded-2" 
                           role="button">
                           <i class="fa-solid fa-trash-can"></i>
                            {{$t('delete')}}
                        </button>
                    </div>
                </template>
                    <div v-else>
                        <button @click="openSendAbuse" class="border-0 px-3 py-1 rounded-3">

                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M6.86621 30.3327C6.31954 30.3327 5.86621 29.8793 5.86621 29.3327V2.66602C5.86621 2.11935 6.31954 1.66602 6.86621 1.66602C7.41288 1.66602 7.86621 2.11935 7.86621 2.66602V29.3327C7.86621 29.8793 7.41288 30.3327 6.86621 30.3327Z"
                                    fill="#CDD7D8" />
                                <path
                                    d="M21.7995 22.334H6.86621C6.31954 22.334 5.86621 21.8807 5.86621 21.334C5.86621 20.7873 6.31954 20.334 6.86621 20.334H21.7995C23.2529 20.334 23.9329 19.9473 24.0662 19.614C24.1995 19.2807 23.9995 18.534 22.9595 17.5073L21.3595 15.9073C20.7062 15.334 20.3062 14.4673 20.2662 13.5073C20.2262 12.494 20.6262 11.494 21.3595 10.7607L22.9595 9.16065C23.9462 8.17398 24.2529 7.37398 24.1062 7.02732C23.9595 6.68065 23.1995 6.33398 21.7995 6.33398H6.86621C6.30621 6.33398 5.86621 5.88065 5.86621 5.33398C5.86621 4.78732 6.31954 4.33398 6.86621 4.33398H21.7995C24.7195 4.33398 25.6529 5.54732 25.9595 6.26732C26.2529 6.98732 26.4529 8.50732 24.3729 10.5873L22.7729 12.1873C22.4395 12.5207 22.2529 12.9873 22.2662 13.454C22.2795 13.854 22.4395 14.214 22.7195 14.4673L24.3729 16.1073C26.4129 18.1473 26.2129 19.6673 25.9195 20.4007C25.6129 21.1073 24.6662 22.334 21.7995 22.334Z"
                                    fill="#CDD7D8" />
                            </svg>
                            قدم بلاغ
                        </button>

                    </div>


                </div>
                <div class="row redy-services mt-3">
                    <div class="col-md-6">
                        <div class="box border p-3 rounded-2 h-100 d-flex flex-column">
                            <h2 class="border-bottom p-2 flex-shrink-0">
                                وصف المشروع
                            </h2>
                            <p class="p-3 flex-grow-1" v-html="itemPage.description">
                            </p>
                            <div class="d-flex gap-3 flex-wrap flex-shrink-0">
                                <a style="text-decoration: revert;" class="t-c" href="">
                                    Image 1
                                </a>
                                <a style="text-decoration: revert;" class="t-c" href="">
                                    Image 2
                                </a>
                                <a style="text-decoration: revert;" class="t-c" href="">
                                    Image 3
                                </a>
                                <a style="text-decoration: revert;" class="t-c" href="">
                                    Image 4
                                </a>
                                <a style="text-decoration: revert;" class="t-c" href="">
                                    Image 5
                                </a>


                            </div>
                        </div>
                        </div>
                       


                    <div v-if="!isOwner" class="col-md-6">
                       <!-- user info-->
                        <SectionUserInfo :itemPage="itemPage" />

                    </div>
                    <div class="col-md-6">
                        <div class="box border p-3 rounded-2" :class="{'mt-5':!isOwner}">
                            <h2 class="border-bottom p-2">
                                تفاصيل عن المشروع
                            </h2>

                            <div class="row ">
                                <!--sect 1-->
                                <div class="col-6 p-2">
                                    <emptyWalletIcon class="t-c" color="#979797" :size="24" />
                                    <span>
                                        سعر الخدمة :
                                    </span>
                                    <span class="m-c">
                                        {{itemPage.price}} {{ $t('riyals') }}
                                    </span>

                                </div>
                                <!--sect 2-->
                                <div class="col-6 p-2">
                                   <thunderIcon class="t-c" color="#979797" :size="24" />
                                    <span>
                                       عدد العروض :</span>
                                    <span class="m-c">
                                        {{ itemPage.count_offer??'N/A' }}
                                    </span>

                                </div>
                                <div class="col-6 p-2">
                                    <timerIcon class="t-c" color="#979797" :size="24" />
                                    <span>
                                        مدة تنفيذ الخدمة :</span>
                                    <span class="m-c">
                                        {{ itemPage.execution_period??'N/A' }} أيام
                                    </span>
                                </div>
                                
                                <div class="col-6 p-2">
                                    <truckIcon class="t-c" color="#979797" :size="24" />
                                    <span>
                                        توصيل :
                                    </span>
                                    <span class="m-c">
                                        {{ itemPage.delivery??"N/A" }}
                                    </span>
                                    

                                </div>
                             
                                <div class="col-6 p-2">
                                    <localisationIcon class="t-c" color="#979797" :size="24" />
                                    <span>
                                        مكان :
                                    </span>
                                    <span class="m-c">
                                        {{itemPage.city}}
                                    </span>
                                </div>
                             
                                <div class="col-6 p-2">
                                   <timeIcon class="t-c" color="#979797" :size="24" />
                                    <span>
                                         النشر :
                                    </span>
                                    <span class="m-c">
                                        {{itemPage.start_date}}
                                    </span>

                                </div>
                              
                             
                                <div class="col-12">
                                    <heartIcon class="t-c" color="#979797" :size="24" />

                                    <span>
                                        المهارات المطلوبة :
                                    </span>
                                    <div class="d-flex justify-content-start flex-wrap gap-3 mt-2">
                                        <p v-for="(skill,i) in itemPage.skills.split(',')" :key="i" 
                                        
                                        :style="{'background-color':colors[i%4]}" class="rounded-2 px-3 text-white">
                                            {{skill}}
                                        </p>
                                        </div>

                                </div>
                            </div>
                        </div>


                    </div>
                </div>



            </div>

        </div>
        <!-- section continue learning-->
        <SectionContinueLearning />
        <SectionHear />
        <abuseCommentDialog />
    </div>
</template>

<script>
import SectionUserInfo from './parts/section-user-info/index.vue'
import SectionContinueLearning from '@/views/service-provider/common-components/section-continue-learning/index.vue'
import SectionHear from '@/views/service-provider/common-components/section-hear/index.vue'
import abuseCommentDialog from './dialogs/abuse-comment.vue'
import emptyWalletIcon from '@/components/icon-svg/empty-wallet.vue'
import timerIcon from '@/components/icon-svg/timer.vue'
import timeIcon from '@/components/icon-svg/time.vue'
import localisationIcon from '@/components/icon-svg/localisation.vue'
import heartIcon from '@/components/icon-svg/heart.vue'
import thunderIcon from '@/components/icon-svg/thunder.vue'
import truckIcon from '@/components/icon-svg/truck.vue'
export default {
    name: 'request-show-page',
    props:{
        itemPage:{},
        isOwner:{},
    },
    components:{
        SectionHear,
        abuseCommentDialog,
        SectionUserInfo,
        SectionContinueLearning,
        localisationIcon,
        timeIcon,
        heartIcon,
        truckIcon,
        timerIcon,
        thunderIcon,
        emptyWalletIcon
    },
    data:()=>({
        loading:true,
        hasError:false,
        
        colors:['#2C98B3', '#1FB9B3' ,'#F2631C', '#FFBC00']
    }),
    methods:{
        openSendAbuse(){
      this.fireOpenDialog('abuse-comment',this.itemPage);
    },
    openEditDialog(){
      this.fireOpenDialog('add-proposal',this.itemPage)
    },
    openDeleteDialog(){
      this.fireOpenDialog('delete-item',this.itemPage)
    }

  }
}
</script>

<style>

</style>