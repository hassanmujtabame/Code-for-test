<template>
  <div class="d-flex gap-2 justify-content-end">
                    <div> 
                        <button @click="editItem" style="height: 40px;" class="btn-main px-3 w-100 border-0 rounded-2" role="button">
                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M19.9993 30.3333H11.9993C4.75935 30.3333 1.66602 27.24 1.66602 20V12C1.66602 4.75999 4.75935 1.66666 11.9993 1.66666H14.666C15.2127 1.66666 15.666 2.11999 15.666 2.66666C15.666 3.21332 15.2127 3.66666 14.666 3.66666H11.9993C5.85268 3.66666 3.66602 5.85332 3.66602 12V20C3.66602 26.1467 5.85268 28.3333 11.9993 28.3333H19.9993C26.146 28.3333 28.3327 26.1467 28.3327 20V17.3333C28.3327 16.7867 28.786 16.3333 29.3327 16.3333C29.8793 16.3333 30.3327 16.7867 30.3327 17.3333V20C30.3327 27.24 27.2393 30.3333 19.9993 30.3333Z" fill="white"/>
                                <path d="M11.3338 23.5867C10.5204 23.5867 9.77377 23.2933 9.2271 22.76C8.57377 22.1067 8.29376 21.16 8.44043 20.16L9.01377 16.1467C9.12043 15.3733 9.6271 14.3733 10.1738 13.8267L20.6804 3.31999C23.3338 0.666653 26.0271 0.666653 28.6804 3.31999C30.1338 4.77332 30.7871 6.25332 30.6538 7.73332C30.5338 8.93332 29.8938 10.1067 28.6804 11.3067L18.1738 21.8133C17.6271 22.36 16.6271 22.8667 15.8538 22.9733L11.8404 23.5467C11.6671 23.5867 11.4938 23.5867 11.3338 23.5867ZM22.0938 4.73332L11.5871 15.24C11.3338 15.4933 11.0404 16.08 10.9871 16.4267L10.4138 20.44C10.3604 20.8267 10.4404 21.1467 10.6404 21.3467C10.8404 21.5467 11.1604 21.6267 11.5471 21.5733L15.5604 21C15.9071 20.9467 16.5071 20.6533 16.7471 20.4L27.2538 9.89332C28.1204 9.02665 28.5738 8.25332 28.6404 7.53332C28.7204 6.66665 28.2671 5.74665 27.2538 4.71999C25.1204 2.58665 23.6538 3.18665 22.0938 4.73332Z" fill="white"/>
                                <path d="M26.4661 13.1067C26.3728 13.1067 26.2794 13.0933 26.1994 13.0667C22.6928 12.08 19.9061 9.29335 18.9194 5.78668C18.7728 5.25335 19.0794 4.70668 19.6128 4.54668C20.1461 4.40002 20.6928 4.70668 20.8394 5.24002C21.6394 8.08002 23.8928 10.3333 26.7328 11.1333C27.2661 11.28 27.5728 11.84 27.4261 12.3733C27.3061 12.8267 26.9061 13.1067 26.4661 13.1067Z" fill="white"/>
                                </svg>
                                
                        تعديل
                        </button>
                    </div>
                    <div>
                        <button :disabled="suspending" v-if="!itemPage.is_suspend" @click="suspendItem" style="height: 40px; background-color:#FFBC00 ;" class="btn-main px-3 w-100 border-0 rounded-2"  role="button">
                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M19.866 30.3333H12.1327C10.946 30.3333 9.42601 29.7066 8.59934 28.8666L3.13269 23.4C2.29269 22.56 1.66602 21.04 1.66602 19.8666V12.1333C1.66602 10.9467 2.29269 9.42667 3.13269 8.60001L8.59934 3.13333C9.43934 2.29333 10.9594 1.66666 12.1327 1.66666H19.866C21.0527 1.66666 22.5727 2.29333 23.3994 3.13333L28.866 8.60001C29.706 9.44001 30.3327 10.96 30.3327 12.1333V19.8666C30.3327 21.0533 29.706 22.5733 28.866 23.4L23.3994 28.8666C22.5594 29.7066 21.0527 30.3333 19.866 30.3333ZM12.1327 3.66666C11.4794 3.66666 10.466 4.07999 10.0127 4.54666L4.54602 10.0133C4.09269 10.48 3.66602 11.48 3.66602 12.1333V19.8666C3.66602 20.52 4.07935 21.5333 4.54602 21.9866L10.0127 27.4533C10.4793 27.9067 11.4794 28.3333 12.1327 28.3333H19.866C20.5193 28.3333 21.5327 27.92 21.986 27.4533L27.4527 21.9866C27.906 21.52 28.3327 20.52 28.3327 19.8666V12.1333C28.3327 11.48 27.9193 10.4667 27.4527 10.0133L21.986 4.54666C21.5194 4.09333 20.5193 3.66666 19.866 3.66666H12.1327Z" fill="white"/>
                                <path d="M6.58651 26.44C6.33318 26.44 6.07984 26.3466 5.87984 26.1466C5.49318 25.76 5.49318 25.12 5.87984 24.7333L24.7332 5.88C25.1198 5.49333 25.7598 5.49333 26.1465 5.88C26.5332 6.26666 26.5332 6.90666 26.1465 7.29333L7.29317 26.1466C7.09317 26.3466 6.83984 26.44 6.58651 26.44Z" fill="white"/>
                                </svg>
                                
                                
                        تعليق
                        </button>
                        <button :disabled="suspending" v-else @click="notSuspendItem" style="height: 40px; background-color:#FFBC00 ;" class="btn-main px-3 w-100 border-0 rounded-2"   role="button">
                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M19.866 30.3333H12.1327C10.946 30.3333 9.42601 29.7066 8.59934 28.8666L3.13269 23.4C2.29269 22.56 1.66602 21.04 1.66602 19.8666V12.1333C1.66602 10.9467 2.29269 9.42667 3.13269 8.60001L8.59934 3.13333C9.43934 2.29333 10.9594 1.66666 12.1327 1.66666H19.866C21.0527 1.66666 22.5727 2.29333 23.3994 3.13333L28.866 8.60001C29.706 9.44001 30.3327 10.96 30.3327 12.1333V19.8666C30.3327 21.0533 29.706 22.5733 28.866 23.4L23.3994 28.8666C22.5594 29.7066 21.0527 30.3333 19.866 30.3333ZM12.1327 3.66666C11.4794 3.66666 10.466 4.07999 10.0127 4.54666L4.54602 10.0133C4.09269 10.48 3.66602 11.48 3.66602 12.1333V19.8666C3.66602 20.52 4.07935 21.5333 4.54602 21.9866L10.0127 27.4533C10.4793 27.9067 11.4794 28.3333 12.1327 28.3333H19.866C20.5193 28.3333 21.5327 27.92 21.986 27.4533L27.4527 21.9866C27.906 21.52 28.3327 20.52 28.3327 19.8666V12.1333C28.3327 11.48 27.9193 10.4667 27.4527 10.0133L21.986 4.54666C21.5194 4.09333 20.5193 3.66666 19.866 3.66666H12.1327Z" fill="white"/>
                                <path d="M6.58651 26.44C6.33318 26.44 6.07984 26.3466 5.87984 26.1466C5.49318 25.76 5.49318 25.12 5.87984 24.7333L24.7332 5.88C25.1198 5.49333 25.7598 5.49333 26.1465 5.88C26.5332 6.26666 26.5332 6.90666 26.1465 7.29333L7.29317 26.1466C7.09317 26.3466 6.83984 26.44 6.58651 26.44Z" fill="white"/>
                                </svg>
                                
                                
                        إعادة نشر
                        </button>
                    </div>
                    <div>
                        <button style="height: 40px; background-color:#FF1616 ;" class="btn-main px-3 w-100 border-0 rounded-2"   @click="deleteItem" role="button">
                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M28.0009 8.97332C27.9742 8.97332 27.9342 8.97332 27.8942 8.97332C20.8409 8.26665 13.8009 7.99999 6.82753 8.70666L4.10753 8.97332C3.54753 9.02665 3.0542 8.62666 3.00086 8.06666C2.94753 7.50666 3.34753 7.02666 3.8942 6.97332L6.6142 6.70666C13.7075 5.98666 20.8942 6.26666 28.0942 6.97332C28.6409 7.02666 29.0409 7.51999 28.9875 8.06666C28.9475 8.58666 28.5075 8.97332 28.0009 8.97332Z" fill="white"/>
                                <path d="M11.333 7.62666C11.2797 7.62666 11.2264 7.62666 11.1597 7.61332C10.6264 7.51999 10.253 6.99999 10.3464 6.46666L10.6397 4.71999C10.853 3.43999 11.1464 1.66666 14.253 1.66666H17.7464C20.8664 1.66666 21.1597 3.50666 21.3597 4.73332L21.653 6.46666C21.7464 7.01332 21.373 7.53332 20.8397 7.61332C20.293 7.70666 19.773 7.33332 19.693 6.79999L19.3997 5.06666C19.213 3.90666 19.173 3.67999 17.7597 3.67999H14.2664C12.853 3.67999 12.8264 3.86666 12.6264 5.05332L12.3197 6.78666C12.2397 7.27999 11.813 7.62666 11.333 7.62666Z" fill="white"/>
                                <path d="M20.2792 30.3333H11.7192C7.06588 30.3333 6.87921 27.76 6.73255 25.68L5.86588 12.2533C5.82588 11.7067 6.25255 11.2267 6.79921 11.1867C7.35921 11.16 7.82588 11.5733 7.86588 12.12L8.73255 25.5467C8.87921 27.5733 8.93255 28.3333 11.7192 28.3333H20.2792C23.0792 28.3333 23.1325 27.5733 23.2659 25.5467L24.1325 12.12C24.1725 11.5733 24.6525 11.16 25.1992 11.1867C25.7459 11.2267 26.1725 11.6933 26.1325 12.2533L25.2659 25.68C25.1192 27.76 24.9325 30.3333 20.2792 30.3333Z" fill="white"/>
                                <path d="M18.2134 23H13.7734C13.2268 23 12.7734 22.5467 12.7734 22C12.7734 21.4533 13.2268 21 13.7734 21H18.2134C18.7601 21 19.2134 21.4533 19.2134 22C19.2134 22.5467 18.7601 23 18.2134 23Z" fill="white"/>
                                <path d="M19.3327 17.6667H12.666C12.1193 17.6667 11.666 17.2133 11.666 16.6667C11.666 16.12 12.1193 15.6667 12.666 15.6667H19.3327C19.8793 15.6667 20.3327 16.12 20.3327 16.6667C20.3327 17.2133 19.8793 17.6667 19.3327 17.6667Z" fill="white"/>
                                </svg>
                                
                         حذف
                        </button>

                    </div>


        </div>
</template>

<script>
import jobsProviderAPIs from '@/services/api/service-provider/jobs'
export default {
  name:'section-actions',
 props:['itemPage'],

 data:()=>{
    return{
        suspending:false,
    }
 },
 watch:{
    itemPage:{
        deep:true,
        immediate:true,
        handler(){}
    }
 },
 methods:{
    editItem(){
        this.fireOpenDialog('add-job',this.itemPage)
    },
    deleteItem(){
             this.fireOpenDialog('delete-job',this.itemPage)
    },
    async suspendItem(){
            this.suspending = true;
        try {
            let {data} = await jobsProviderAPIs.suspendItem(this.itemPage.id)
            if(data.success){
                    this.$emit('suspend',1)
            }
        } catch (error) {
            console.log('error',error)
            console.log('error response',error.response)
        }
        this.suspending = false;
    },
    async notSuspendItem(){
        this.suspending = true;
        try {
            let {data} = await jobsProviderAPIs.notSuspendItem(this.itemPage.id)
            if(data.success){
                this.$emit('suspend',0)
            }
        } catch (error) {
            console.log('error',error)
            console.log('error response',error.response)
        }
        this.suspending = false;
    },
 }
}
</script>

<style>

</style>