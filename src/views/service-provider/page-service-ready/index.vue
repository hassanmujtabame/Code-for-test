<template>
    <div style="margin-top:85px">
        <d-overlays-simple v-if="loading" />
    <div v-else-if="hasError">
      هناك خطأ غير معروف يرجي تحديث الصفحة
    </div>
        <div v-else class="container">

            <div class="row justify-content-between">
                <div class="col-md-6">
                    <h3>
                        <span class="m-c">
                            خدمة جاهزة :
                        </span>
                        {{ itemPage.title}}
                    </h3>
                </div>
                <!-- actions page-->
               <ActionCrud @suspend="suspend" :itemPage="itemPage" v-if="isOwner" />
               <ActionForVisiter v-else :itemPage="itemPage" />
               <!-- #actions page-->
                <div class="row redy-services ">
                    <div class="col-md-6 mt-5 ">

                        <!-- gallary-->
                        <SectionGallary :item="itemPage" />
                        <!--rate service-->
                        <SectionRateService :item="itemPage" />
                         <!--share service-->
                        <SectionShareService :item="itemPage"/>
                       
                    </div>


                    <div class="col-md-6 mt-5 ">
                        
                            <d-user-info-li group-dialog="send-message-to-provider" :member="itemPage.user_info" 
                            :dataEvent="dataEventMessage"
                            class="mb-3" v-if="!isOwner"
                            
                            />
                        <div class="box border rounded-3 p-4">
                            <div class="t-c ">

                                <h4 class="border-bottom">
                                    وصف الخدمة
                                </h4>
                                <p v-html="itemPage.description"></p>
                            </div>
                            <div>
                                <h3 class="border-bottom p-2">
                                    تفاصيل الخدمة
                                </h3>
                                <div class="row">
                                    <div class="col-6 p-2">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M11.9999 16.3299C9.60992 16.3299 7.66992 14.3899 7.66992 11.9999C7.66992 9.60992 9.60992 7.66992 11.9999 7.66992C14.3899 7.66992 16.3299 9.60992 16.3299 11.9999C16.3299 14.3899 14.3899 16.3299 11.9999 16.3299ZM11.9999 9.16992C10.4399 9.16992 9.16992 10.4399 9.16992 11.9999C9.16992 13.5599 10.4399 14.8299 11.9999 14.8299C13.5599 14.8299 14.8299 13.5599 14.8299 11.9999C14.8299 10.4399 13.5599 9.16992 11.9999 9.16992Z"
                                                fill="#979797" />
                                            <path
                                                d="M12.0001 21.0205C8.24008 21.0205 4.69008 18.8205 2.25008 15.0005C1.19008 13.3505 1.19008 10.6605 2.25008 9.00047C4.70008 5.18047 8.25008 2.98047 12.0001 2.98047C15.7501 2.98047 19.3001 5.18047 21.7401 9.00047C22.8001 10.6505 22.8001 13.3405 21.7401 15.0005C19.3001 18.8205 15.7501 21.0205 12.0001 21.0205ZM12.0001 4.48047C8.77008 4.48047 5.68008 6.42047 3.52008 9.81047C2.77008 10.9805 2.77008 13.0205 3.52008 14.1905C5.68008 17.5805 8.77008 19.5205 12.0001 19.5205C15.2301 19.5205 18.3201 17.5805 20.4801 14.1905C21.2301 13.0205 21.2301 10.9805 20.4801 9.81047C18.3201 6.42047 15.2301 4.48047 12.0001 4.48047Z"
                                                fill="#979797" />
                                        </svg>
                                        <span>
                                            المشاهدات:
                                        </span>
                                        <span class="m-c">
                                            {{itemPage.views??'N/A'}}
                                        </span>

                                    </div>
                                    <div class="col-6 p-2">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M17.6601 22.6703C17.1301 22.6703 16.4501 22.5003 15.6001 22.0003L12.6101 20.2303C12.3001 20.0503 11.7001 20.0503 11.4001 20.2303L8.40012 22.0003C6.63012 23.0503 5.59012 22.6303 5.12012 22.2903C4.66012 21.9503 3.94012 21.0803 4.41012 19.0803L5.12012 16.0103C5.20012 15.6903 5.04012 15.1403 4.80012 14.9003L2.32012 12.4203C1.08012 11.1803 1.18012 10.1203 1.35012 9.60031C1.52012 9.08031 2.06012 8.16031 3.78012 7.87031L6.97012 7.34031C7.27012 7.29031 7.70012 6.97031 7.83012 6.70031L9.60012 3.17031C10.4001 1.56031 11.4501 1.32031 12.0001 1.32031C12.5501 1.32031 13.6001 1.56031 14.4001 3.17031L16.1601 6.69031C16.3001 6.96031 16.7301 7.28031 17.0301 7.33031L20.2201 7.86031C21.9501 8.15031 22.4901 9.07031 22.6501 9.59031C22.8101 10.1103 22.9101 11.1703 21.6801 12.4103L19.2001 14.9003C18.9601 15.1403 18.8101 15.6803 18.8801 16.0103L19.5901 19.0803C20.0501 21.0803 19.3401 21.9503 18.8801 22.2903C18.6301 22.4703 18.2301 22.6703 17.6601 22.6703ZM12.0001 18.5903C12.4901 18.5903 12.9801 18.7103 13.3701 18.9403L16.3601 20.7103C17.2301 21.2303 17.7801 21.2303 17.9901 21.0803C18.2001 20.9303 18.3501 20.4003 18.1301 19.4203L17.4201 16.3503C17.2301 15.5203 17.5401 14.4503 18.1401 13.8403L20.6201 11.3603C21.1101 10.8703 21.3301 10.3903 21.2301 10.0603C21.1201 9.73031 20.6601 9.46031 19.9801 9.35031L16.7901 8.82031C16.0201 8.69031 15.1801 8.07031 14.8301 7.37031L13.0701 3.85031C12.7501 3.21031 12.3501 2.83031 12.0001 2.83031C11.6501 2.83031 11.2501 3.21031 10.9401 3.85031L9.17012 7.37031C8.82012 8.07031 7.98012 8.69031 7.21012 8.82031L4.03012 9.35031C3.35012 9.46031 2.89012 9.73031 2.78012 10.0603C2.67012 10.3903 2.90012 10.8803 3.39012 11.3603L5.87012 13.8403C6.47012 14.4403 6.78012 15.5203 6.59012 16.3503L5.88012 19.4203C5.65012 20.4103 5.81012 20.9303 6.02012 21.0803C6.23012 21.2303 6.77012 21.2203 7.65012 20.7103L10.6401 18.9403C11.0201 18.7103 11.5101 18.5903 12.0001 18.5903Z"
                                                fill="#979797" />
                                        </svg>

                                        <span>
                                            التقيمات:
                                        </span>
                                        <span class="m-c">
                                            {{ itemPage.rate??'N/A'}}
                                        </span>

                                    </div>
                                    <div class="col-6 p-2">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M10.92 19.7496C10.63 19.7496 10.35 19.7096 10.12 19.6196C6.7 18.4496 1.25 14.2696 1.25 8.0896C1.25 4.9196 3.80999 2.34961 6.95999 2.34961C8.46999 2.34961 9.87999 2.92959 10.93 3.95959C11.99 2.92959 13.39 2.34961 14.9 2.34961C18.05 2.34961 20.61 4.9196 20.61 8.0896C20.61 8.5196 20.58 8.95961 20.52 9.40961C20.49 9.63961 20.35 9.8496 20.15 9.9696C19.95 10.0896 19.7 10.0996 19.48 10.0096C18.25 9.47961 16.72 9.87962 15.92 10.9496C15.78 11.1396 15.51 11.2396 15.32 11.2496C15.08 11.2496 14.86 11.1396 14.72 10.9496C14.15 10.1896 13.28 9.75961 12.34 9.75961C10.71 9.75961 9.38 11.0996 9.38 12.7496C9.38 15.3496 10.87 17.1996 12.13 18.3096C12.31 18.4696 12.4 18.6996 12.38 18.9396C12.36 19.1796 12.23 19.3896 12.02 19.5196C11.91 19.5796 11.82 19.6196 11.77 19.6296C11.51 19.7096 11.22 19.7496 10.92 19.7496ZM6.95999 3.84961C4.63999 3.84961 2.75 5.7496 2.75 8.0896C2.75 13.3196 7.10001 16.5396 9.60001 17.7796C8.65001 16.5096 7.87 14.8296 7.87 12.7396C7.87 10.2596 9.86999 8.2496 12.33 8.2496C13.45 8.2496 14.5 8.65962 15.31 9.38962C16.32 8.48962 17.76 8.07959 19.1 8.32959C19.1 8.24959 19.1 8.16961 19.1 8.09961C19.1 5.75961 17.21 3.85959 14.89 3.85959C13.56 3.85959 12.33 4.47959 11.52 5.54959C11.38 5.73959 11.16 5.84961 10.92 5.84961C10.68 5.84961 10.46 5.73959 10.32 5.54959C9.53001 4.46959 8.29999 3.84961 6.95999 3.84961Z"
                                                fill="#979797" />
                                            <path
                                                d="M15.3206 21.65C15.0906 21.65 14.8506 21.62 14.6606 21.55C13.8006 21.26 12.4106 20.55 11.1406 19.42C9.66062 18.11 7.89062 15.89 7.89062 12.74C7.89062 10.26 9.89062 8.25 12.3506 8.25C13.4706 8.25 14.5206 8.66001 15.3306 9.39001C16.5906 8.26001 18.5106 7.94 20.0906 8.63C21.7106 9.35 22.7606 10.97 22.7606 12.75C22.7606 17.49 18.6006 20.67 15.9806 21.56C15.7806 21.62 15.5506 21.65 15.3206 21.65ZM12.3406 9.75C10.7106 9.75 9.38062 11.09 9.38062 12.74C9.38062 15.34 10.8706 17.19 12.1306 18.3C13.2406 19.28 14.4106 19.89 15.1406 20.13C15.2206 20.16 15.4106 20.16 15.4806 20.13C16.9806 19.62 21.2506 17.17 21.2506 12.74C21.2506 11.55 20.5506 10.47 19.4806 10C18.2706 9.47 16.7206 9.87 15.9206 10.94C15.7806 11.13 15.5106 11.23 15.3206 11.24C15.0806 11.24 14.8606 11.13 14.7206 10.94C14.1506 10.18 13.2806 9.75 12.3406 9.75Z"
                                                fill="#979797" />
                                        </svg>
                                        <span>
                                            المشترين:
                                        </span>
                                        <span class="m-c">
                                            {{itemPage.n_buyers??'N/A'}}
                                        </span>
                                    </div>
                                    <div class="col-6 p-2">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M17.741 22.752H6.26098C3.77098 22.752 1.75098 20.7319 1.75098 18.2419V11.512C1.75098 9.02196 3.77098 7.00195 6.26098 7.00195H17.741C20.231 7.00195 22.251 9.02196 22.251 11.512V12.952C22.251 13.362 21.911 13.702 21.501 13.702H19.481C19.131 13.702 18.811 13.832 18.581 14.072L18.571 14.082C18.291 14.352 18.161 14.7219 18.191 15.1019C18.251 15.7619 18.881 16.2919 19.601 16.2919H21.501C21.911 16.2919 22.251 16.6319 22.251 17.0419V18.2319C22.251 20.7319 20.231 22.752 17.741 22.752ZM6.26098 8.50195C4.60098 8.50195 3.25098 9.85196 3.25098 11.512V18.2419C3.25098 19.9019 4.60098 21.252 6.26098 21.252H17.741C19.401 21.252 20.751 19.9019 20.751 18.2419V17.8019H19.601C18.091 17.8019 16.811 16.6819 16.691 15.2419C16.611 14.4219 16.911 13.612 17.511 13.022C18.031 12.492 18.731 12.202 19.481 12.202H20.751V11.512C20.751 9.85196 19.401 8.50195 17.741 8.50195H6.26098V8.50195Z"
                                                fill="#979797" />
                                            <path
                                                d="M2.50098 13.162C2.09098 13.162 1.75098 12.822 1.75098 12.412V7.84201C1.75098 6.35201 2.69098 5.00196 4.08098 4.47196L12.021 1.47196C12.841 1.16196 13.751 1.27201 14.461 1.77201C15.181 2.27201 15.601 3.082 15.601 3.952V7.75199C15.601 8.16199 15.261 8.50199 14.851 8.50199C14.441 8.50199 14.101 8.16199 14.101 7.75199V3.952C14.101 3.572 13.921 3.22199 13.601 3.00199C13.281 2.78199 12.901 2.73198 12.541 2.87198L4.60098 5.87198C3.79098 6.18198 3.24098 6.97201 3.24098 7.84201V12.412C3.25098 12.832 2.91098 13.162 2.50098 13.162Z"
                                                fill="#979797" />
                                            <path
                                                d="M19.6024 17.8031C18.0924 17.8031 16.8124 16.6831 16.6924 15.2431C16.6124 14.4131 16.9124 13.6031 17.5124 13.0131C18.0224 12.4931 18.7224 12.2031 19.4724 12.2031H21.5524C22.5424 12.2331 23.3024 13.0131 23.3024 13.9731V16.0331C23.3024 16.9931 22.5424 17.7731 21.5824 17.8031H19.6024ZM21.5324 13.7031H19.4824C19.1324 13.7031 18.8124 13.8331 18.5824 14.0731C18.2924 14.3531 18.1524 14.7331 18.1924 15.1131C18.2524 15.7731 18.8824 16.3031 19.6024 16.3031H21.5624C21.6924 16.3031 21.8124 16.1831 21.8124 16.0331V13.9731C21.8124 13.8231 21.6924 13.7131 21.5324 13.7031Z"
                                                fill="#979797" />
                                            <path
                                                d="M14.002 12.752H7.00195C6.59195 12.752 6.25195 12.412 6.25195 12.002C6.25195 11.592 6.59195 11.252 7.00195 11.252H14.002C14.412 11.252 14.752 11.592 14.752 12.002C14.752 12.412 14.412 12.752 14.002 12.752Z"
                                                fill="#979797" />
                                        </svg>
                                        <span>
                                            سعر الخدمة
                                        </span>
                                        <span class="m-c">
                                            {{itemPage.price}} {{ $t('riyals') }}
                                        </span>

                                    </div>
                                    <div class="col-6 p-2">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M17.2195 9.75H8.95953C8.39953 9.75 7.83954 9.56001 7.39954 9.20001L5.20953 7.45001C4.60953 6.97001 4.26953 6.26 4.26953 5.5C4.26953 4.74 4.60953 4.01999 5.20953 3.54999L7.39954 1.79999C7.83954 1.44999 8.39953 1.25 8.95953 1.25H17.2195C18.5995 1.25 19.7195 2.37 19.7195 3.75V7.25C19.7195 8.63 18.5995 9.75 17.2195 9.75ZM8.95953 2.75C8.72953 2.75 8.50954 2.83 8.33954 2.97L6.14954 4.72C5.90954 4.91 5.76953 5.2 5.76953 5.5C5.76953 5.8 5.90954 6.09 6.14954 6.28L8.33954 8.03C8.51954 8.17 8.73953 8.25 8.95953 8.25H17.2195C17.7695 8.25 18.2195 7.8 18.2195 7.25V3.75C18.2195 3.2 17.7695 2.75 17.2195 2.75H8.95953Z"
                                                fill="#979797" />
                                            <path
                                                d="M15.0598 19.75H6.7998C5.4198 19.75 4.2998 18.63 4.2998 17.25V13.75C4.2998 12.37 5.4198 11.25 6.7998 11.25H15.0598C15.6298 11.25 16.1798 11.44 16.6198 11.8L18.8098 13.55C19.4098 14.03 19.7498 14.74 19.7498 15.5C19.7498 16.26 19.4098 16.98 18.8098 17.45L16.6198 19.2C16.1798 19.56 15.6298 19.75 15.0598 19.75ZM6.7998 12.75C6.2498 12.75 5.7998 13.2 5.7998 13.75V17.25C5.7998 17.8 6.2498 18.25 6.7998 18.25H15.0598C15.2898 18.25 15.5098 18.17 15.6798 18.03L17.8698 16.28C18.1098 16.09 18.2498 15.8 18.2498 15.5C18.2498 15.2 18.1098 14.91 17.8698 14.72L15.6798 12.97C15.4998 12.83 15.2798 12.75 15.0598 12.75H6.7998Z"
                                                fill="#979797" />
                                            <path
                                                d="M12 12.75C11.59 12.75 11.25 12.41 11.25 12V9C11.25 8.59 11.59 8.25 12 8.25C12.41 8.25 12.75 8.59 12.75 9V12C12.75 12.41 12.41 12.75 12 12.75Z"
                                                fill="#979797" />
                                            <path
                                                d="M12 22.75C11.59 22.75 11.25 22.41 11.25 22V19C11.25 18.59 11.59 18.25 12 18.25C12.41 18.25 12.75 18.59 12.75 19V22C12.75 22.41 12.41 22.75 12 22.75Z"
                                                fill="#979797" />
                                            <path
                                                d="M15 22.75H9C8.59 22.75 8.25 22.41 8.25 22C8.25 21.59 8.59 21.25 9 21.25H15C15.41 21.25 15.75 21.59 15.75 22C15.75 22.41 15.41 22.75 15 22.75Z"
                                                fill="#979797" />
                                        </svg>
                                        <span>
                                            التصنيف:
                                        </span>
                                        <span class="m-c">
                                            {{itemPage.state=='offline'?'اوفلاين':'اونلان'}}
                                        </span>

                                    </div>
                                    <div class="col-6 p-2">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M12.002 22.75C6.76195 22.75 2.50195 18.49 2.50195 13.25C2.50195 8.01 6.76195 3.75 12.002 3.75C17.242 3.75 21.502 8.01 21.502 13.25C21.502 18.49 17.242 22.75 12.002 22.75ZM12.002 5.25C7.59195 5.25 4.00195 8.84 4.00195 13.25C4.00195 17.66 7.59195 21.25 12.002 21.25C16.412 21.25 20.002 17.66 20.002 13.25C20.002 8.84 16.412 5.25 12.002 5.25Z"
                                                fill="#979797" />
                                            <path
                                                d="M12.001 13.75C11.591 13.75 11.251 13.41 11.251 13V8C11.251 7.59 11.591 7.25 12.001 7.25C12.411 7.25 12.751 7.59 12.751 8V13C12.751 13.41 12.411 13.75 12.001 13.75Z"
                                                fill="#979797" />
                                            <path
                                                d="M15.002 2.75H9.00195C8.59195 2.75 8.25195 2.41 8.25195 2C8.25195 1.59 8.59195 1.25 9.00195 1.25H15.002C15.412 1.25 15.752 1.59 15.752 2C15.752 2.41 15.412 2.75 15.002 2.75Z"
                                                fill="#979797" />
                                        </svg>
                                        <span>
                                            مدة التنفيذ :
                                        </span>
                                        <span class="m-c">
                                            {{itemPage.execution_period??'N/A'}}ايام
                                        </span>

                                    </div>
                                    <div class="col-6 p-2">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M7 8.75H4C2.48 8.75 1.25 7.52 1.25 6V4C1.25 2.48 2.48 1.25 4 1.25H7C8.52 1.25 9.75 2.48 9.75 4V6C9.75 7.52 8.52 8.75 7 8.75ZM4 2.75C3.31 2.75 2.75 3.31 2.75 4V6C2.75 6.69 3.31 7.25 4 7.25H7C7.69 7.25 8.25 6.69 8.25 6V4C8.25 3.31 7.69 2.75 7 2.75H4Z"
                                                fill="#979797" />
                                            <path
                                                d="M20.8 7.75H17.2C16.12 7.75 15.25 6.86999 15.25 5.79999V4.20001C15.25 3.12001 16.13 2.25 17.2 2.25H20.8C21.88 2.25 22.75 3.13001 22.75 4.20001V5.79999C22.75 6.87999 21.88 7.75 20.8 7.75ZM17.2 3.75C16.96 3.75 16.75 3.96001 16.75 4.20001V5.79999C16.75 6.03999 16.96 6.25 17.2 6.25H20.8C21.04 6.25 21.25 6.03999 21.25 5.79999V4.20001C21.25 3.96001 21.04 3.75 20.8 3.75H17.2Z"
                                                fill="#979797" />
                                            <path
                                                d="M20.8 15.25H17.2C16.12 15.25 15.25 14.37 15.25 13.3V11.7C15.25 10.62 16.13 9.75 17.2 9.75H20.8C21.88 9.75 22.75 10.63 22.75 11.7V13.3C22.75 14.38 21.88 15.25 20.8 15.25ZM17.2 11.25C16.96 11.25 16.75 11.46 16.75 11.7V13.3C16.75 13.54 16.96 13.75 17.2 13.75H20.8C21.04 13.75 21.25 13.54 21.25 13.3V11.7C21.25 11.46 21.04 11.25 20.8 11.25H17.2Z"
                                                fill="#979797" />
                                            <path
                                                d="M16 5.75H9C8.59 5.75 8.25 5.41 8.25 5C8.25 4.59 8.59 4.25 9 4.25H16C16.41 4.25 16.75 4.59 16.75 5C16.75 5.41 16.41 5.75 16 5.75Z"
                                                fill="#979797" />
                                            <path d="M12.5 5V18C12.5 19.1 13.4 20 14.5 20H16" fill="white" />
                                            <path
                                                d="M16 20.75H14.5C12.98 20.75 11.75 19.52 11.75 18V5C11.75 4.59 12.09 4.25 12.5 4.25C12.91 4.25 13.25 4.59 13.25 5V18C13.25 18.69 13.81 19.25 14.5 19.25H16C16.41 19.25 16.75 19.59 16.75 20C16.75 20.41 16.41 20.75 16 20.75Z"
                                                fill="#979797" />
                                            <path
                                                d="M16 13.25H12.5C12.09 13.25 11.75 12.91 11.75 12.5C11.75 12.09 12.09 11.75 12.5 11.75H16C16.41 11.75 16.75 12.09 16.75 12.5C16.75 12.91 16.41 13.25 16 13.25Z"
                                                fill="#979797" />
                                            <path
                                                d="M20.8 22.75H17.2C16.12 22.75 15.25 21.87 15.25 20.8V19.2C15.25 18.12 16.13 17.25 17.2 17.25H20.8C21.88 17.25 22.75 18.13 22.75 19.2V20.8C22.75 21.88 21.88 22.75 20.8 22.75ZM17.2 18.75C16.96 18.75 16.75 18.96 16.75 19.2V20.8C16.75 21.04 16.96 21.25 17.2 21.25H20.8C21.04 21.25 21.25 21.04 21.25 20.8V19.2C21.25 18.96 21.04 18.75 20.8 18.75H17.2Z"
                                                fill="#979797" />
                                        </svg>
                                        <span>
                                            المجال:
                                        </span>
                                        <span class="m-c">
                                            {{itemPage.categories.length?itemPage.categories.map(x=>x.name).join(','):'N/A'}}
                                        </span>

                                    </div>
                                    <div class="col-6 p-2">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M11.9999 14.1695C9.86988 14.1695 8.12988 12.4395 8.12988 10.2995C8.12988 8.15945 9.86988 6.43945 11.9999 6.43945C14.1299 6.43945 15.8699 8.16945 15.8699 10.3095C15.8699 12.4495 14.1299 14.1695 11.9999 14.1695ZM11.9999 7.93945C10.6999 7.93945 9.62988 8.99945 9.62988 10.3095C9.62988 11.6195 10.6899 12.6795 11.9999 12.6795C13.3099 12.6795 14.3699 11.6195 14.3699 10.3095C14.3699 8.99945 13.2999 7.93945 11.9999 7.93945Z"
                                                fill="#979797" />
                                            <path
                                                d="M11.9997 22.76C10.5197 22.76 9.02969 22.2 7.86969 21.09C4.91969 18.25 1.65969 13.72 2.88969 8.33C3.99969 3.44 8.26969 1.25 11.9997 1.25C11.9997 1.25 11.9997 1.25 12.0097 1.25C15.7397 1.25 20.0097 3.44 21.1197 8.34C22.3397 13.73 19.0797 18.25 16.1297 21.09C14.9697 22.2 13.4797 22.76 11.9997 22.76ZM11.9997 2.75C9.08969 2.75 5.34969 4.3 4.35969 8.66C3.27969 13.37 6.23969 17.43 8.91969 20C10.6497 21.67 13.3597 21.67 15.0897 20C17.7597 17.43 20.7197 13.37 19.6597 8.66C18.6597 4.3 14.9097 2.75 11.9997 2.75Z"
                                                fill="#979797" />
                                        </svg>
                                        <span>
                                            العنوان :
                                        </span>
                                        <span class="m-c">
                                            {{itemPage.city??'N/A'}}
                                        </span>

                                    </div>
                                    <div class="col-md-auto p-2">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M13 14.7505H2C1.59 14.7505 1.25 14.4105 1.25 14.0005V7.62048C1.25 7.30048 1.44999 7.02046 1.73999 6.91046C2.03999 6.80046 2.37001 6.89049 2.57001 7.13049C3.18001 7.86049 4.13001 8.27048 5.07001 8.24048C5.87001 8.22048 6.60998 7.9205 7.16998 7.3905C7.42998 7.1705 7.63999 6.91048 7.79999 6.62048C8.10999 6.09048 8.26 5.51047 8.25 4.92047C8.23 4.00047 7.83002 3.16048 7.15002 2.55048C6.91002 2.34048 6.83 2.01046 6.94 1.72046C7.05 1.43046 7.33001 1.23047 7.64001 1.23047H15C15.41 1.23047 15.75 1.57047 15.75 1.98047V11.9805C15.75 13.5205 14.52 14.7505 13 14.7505ZM2.75 13.2505H13C13.69 13.2505 14.25 12.6905 14.25 12.0005V2.75049H9.19C9.54 3.40049 9.73 4.1305 9.75 4.8905C9.77 5.7605 9.54998 6.62048 9.10999 7.37048C8.86999 7.80048 8.53999 8.2105 8.17999 8.5105C7.37999 9.2705 6.27999 9.72049 5.10999 9.75049C4.26999 9.78049 3.46001 9.57049 2.76001 9.19049V13.2505H2.75Z"
                                                fill="#979797" />
                                            <path
                                                d="M19 20.75H18C17.59 20.75 17.25 20.41 17.25 20C17.25 19.31 16.69 18.75 16 18.75C15.31 18.75 14.75 19.31 14.75 20C14.75 20.41 14.41 20.75 14 20.75H10C9.59 20.75 9.25 20.41 9.25 20C9.25 19.31 8.69 18.75 8 18.75C7.31 18.75 6.75 19.31 6.75 20C6.75 20.41 6.41 20.75 6 20.75H5C2.93 20.75 1.25 19.07 1.25 17V14C1.25 13.59 1.59 13.25 2 13.25H13C13.69 13.25 14.25 12.69 14.25 12V5C14.25 4.59 14.59 4.25 15 4.25H16.84C17.83 4.25 18.74 4.78001 19.23 5.64001L20.94 8.63C21.07 8.86 21.07 9.15 20.94 9.38C20.81 9.61 20.56 9.75 20.29 9.75H19C18.86 9.75 18.75 9.86 18.75 10V13C18.75 13.14 18.86 13.25 19 13.25H22C22.41 13.25 22.75 13.59 22.75 14V17C22.75 19.07 21.07 20.75 19 20.75ZM18.65 19.25H19C20.24 19.25 21.25 18.24 21.25 17V14.75H19C18.04 14.75 17.25 13.96 17.25 13V10C17.25 9.04 18.03 8.25 19 8.25L17.93 6.38C17.71 5.99 17.29 5.75 16.84 5.75H15.75V12C15.75 13.52 14.52 14.75 13 14.75H2.75V17C2.75 18.24 3.76 19.25 5 19.25H5.34998C5.67998 18.1 6.74 17.25 8 17.25C9.26 17.25 10.32 18.1 10.65 19.25H13.36C13.69 18.1 14.75 17.25 16.01 17.25C17.27 17.25 18.32 18.1 18.65 19.25Z"
                                                fill="#979797" />
                                            <path
                                                d="M8 22.75C6.48 22.75 5.25 21.52 5.25 20C5.25 18.48 6.48 17.25 8 17.25C9.52 17.25 10.75 18.48 10.75 20C10.75 21.52 9.52 22.75 8 22.75ZM8 18.75C7.31 18.75 6.75 19.31 6.75 20C6.75 20.69 7.31 21.25 8 21.25C8.69 21.25 9.25 20.69 9.25 20C9.25 19.31 8.69 18.75 8 18.75Z"
                                                fill="#979797" />
                                            <path
                                                d="M16 22.75C14.48 22.75 13.25 21.52 13.25 20C13.25 18.48 14.48 17.25 16 17.25C17.52 17.25 18.75 18.48 18.75 20C18.75 21.52 17.52 22.75 16 22.75ZM16 18.75C15.31 18.75 14.75 19.31 14.75 20C14.75 20.69 15.31 21.25 16 21.25C16.69 21.25 17.25 20.69 17.25 20C17.25 19.31 16.69 18.75 16 18.75Z"
                                                fill="#979797" />
                                            <path
                                                d="M22 14.75H19C18.04 14.75 17.25 13.96 17.25 13V10C17.25 9.04 18.04 8.25 19 8.25H20.29C20.56 8.25 20.81 8.39 20.94 8.63L22.65 11.63C22.71 11.74 22.75 11.87 22.75 12V14C22.75 14.41 22.41 14.75 22 14.75ZM19 9.75C18.86 9.75 18.75 9.86 18.75 10V13C18.75 13.14 18.86 13.25 19 13.25H21.25V12.2L19.85 9.75H19Z"
                                                fill="#979797" />
                                            <path
                                                d="M4.98962 9.75C3.60962 9.75 2.30962 9.14998 1.42962 8.09998C1.28962 7.94998 1.13964 7.73998 1.00964 7.53998C0.539635 6.82998 0.279635 5.98999 0.259635 5.10999C0.219635 3.64999 0.839647 2.27998 1.95965 1.34998C2.80965 0.649976 3.8296 0.27 4.9096 0.25C6.0896 0.26 7.26965 0.650002 8.14965 1.44C9.14965 2.32 9.72964 3.55001 9.75963 4.89001C9.77964 5.76001 9.55962 6.62 9.11962 7.37C8.87962 7.79999 8.54963 8.21001 8.18963 8.51001C7.38963 9.27001 6.28962 9.72 5.11962 9.75C5.06962 9.75 5.02962 9.75 4.98962 9.75ZM4.98962 1.75C4.96962 1.75 4.94962 1.75 4.92962 1.75C4.19962 1.76 3.4996 2.03001 2.9096 2.51001C2.1496 3.14001 1.72963 4.08001 1.74963 5.07001C1.76963 5.67001 1.93964 6.24002 2.25964 6.71002C2.34964 6.85002 2.43961 6.97998 2.54961 7.09998C3.18961 7.85998 4.13963 8.25999 5.06963 8.23999C5.86963 8.21999 6.60961 7.92001 7.16961 7.39001C7.42961 7.17001 7.63961 6.91 7.79961 6.62C8.10961 6.09 8.25963 5.50998 8.24963 4.91998C8.22963 3.99998 7.82965 3.15999 7.14965 2.54999C6.54965 2.03999 5.78962 1.75 4.98962 1.75Z"
                                                fill="#979797" />
                                            <path
                                                d="M4.44988 6.74968C4.25988 6.74968 4.07986 6.67966 3.92986 6.53966L2.91985 5.5797C2.61985 5.2897 2.60989 4.8197 2.89989 4.5197C3.18989 4.2197 3.65989 4.20968 3.95989 4.49968L4.44988 4.96965L6.01988 3.44969C6.31988 3.15969 6.78988 3.16965 7.07988 3.46965C7.36988 3.76965 7.35986 4.23971 7.05986 4.52971L4.96984 6.54967C4.81984 6.67967 4.62988 6.74968 4.44988 6.74968Z"
                                                fill="#979797" />
                                        </svg>
                                        <span>
                                            مكان التنفيذ أو التسليم :
                                        </span>
                                        <span class="m-c">
                                         {{itemPage.execution_place??'N/A'}}
                                        </span>

                                    </div>
                                </div>
                            </div>
                            <div class="mt-4">
                                <h3 class="border-bottom p-2">
                                    الكلمات المفتاحية
                                </h3>
                                <div class="d-flex flex-wrap justify-content-start text-white word-intial pt-3">
                                    <template v-if="itemPage.keywords">
                                    <p class="mx-1" v-for="(keyw,i) in itemPage.keywords.split(',')" :key="i">
                                        {{keyw}}
                                    </p>
                                </template>
                                </div>
                            </div>
                            <div class="text-center">
                                <span>
                                    {{ $t('publish-date') }}:
                                </span>
                                <span class="m-c fw-bolder">
                                    {{itemPage.start_date??'N/A'}}
                                </span>
                            </div>
                        </div>
                        <div class="box border rounded-3 p-4 mt-3">
                            <p class="fs-3 text-center">
                                طلبات شراء هذه الخدمة
                            </p>
                        </div>

                    </div>
                </div>



            </div>

        </div>

  <SectionContinueLearning />

  <DialogBooking  />
  <DialogRequestService />
  <DialogDeleteService />
  <DialogUpdateService />
  <CheckOutDialog />
<DialogSuccessSuspendService @suspend="suspend" />
<DialogSuccessRepublishService />
    </div>
</template>

<script>
import readyServiceAPIs from '@/services/api/service-provider/provider/ready-service'
import SectionContinueLearning from '@/views/service-provider/common-components/section-continue-learning/index.vue'
import SectionGallary from './section-gallary/index.vue'
import SectionRateService from './section-rate-service/index.vue'
import SectionShareService from './section-share-service/index.vue'
import ActionCrud from './actions/crud.vue'
import ActionForVisiter from './actions/visiter.vue'
import DialogBooking from './dialog/booking.vue'
import DialogRequestService from './dialog/request-service/index.vue'
import DialogDeleteService from '@/layouts/service-provider/dialogs/del-service.vue'
import DialogSuccessSuspendService from '@/layouts/service-provider/dialogs/success-suspend-service.vue'
import DialogSuccessRepublishService from '@/layouts/service-provider/dialogs/success-republish-service.vue'
import DialogUpdateService from '@/layouts/service-provider/dialogs/update-service/index.vue'
import CheckOutDialog from './dialog/check-out/index'
export default {
    name:'page-service-ready',
    components:{
        CheckOutDialog,
        DialogBooking,
        DialogDeleteService,
        DialogSuccessSuspendService,
        DialogSuccessRepublishService,
        DialogRequestService,
        DialogUpdateService,
        ActionCrud,
        ActionForVisiter,
        SectionContinueLearning,
        SectionGallary,
        SectionRateService,
        SectionShareService
    },
    data:()=>{
        return {
            dataEventMessage:{
                formData:{user_id:null},
                opts:{}
            },
        loading:true,
        hasError:false,
        itemPage:{},
        isOwner:false,
    }
},
    methods:{
        suspend(val){
                if(val){
                    this.fireOpenDialog('success-suspend-service',this.itemPage)
                }else{
                    this.fireOpenDialog('success-republish-service',this.itemPage)

                }
            this.itemPage.is_suspend=val;
        },
    async initializing() {
      this.loading = true;
      this.hasError = false;
            try {
                let { data } = await readyServiceAPIs.getItem(this.$route.params.id)
                if (data.success) {
                   this.itemPage = data.data;
                   this.dataEventMessage.formData.user_id = data.data.user_id
                   this.dataEventMessage.opts.user = data.data.user_info

                   this.isOwner = this.itemPage.user_id==this.user.id
                   try {
                  await readyServiceAPIs.setAsView(this.$route.params.id)
                } catch (error) {
                    console.log('error', error)
                    console.log('error response', error.response)
                }
                }else{
                  this.hasError = true;
                }
            } catch (error) {
                console.log('error', error)
                console.log('error response', error.response)
                this.hasError = true;
              }

            this.loading = false;
        }
  },
  mounted(){
    this.initializing()
  }
}
</script>

<style>

</style>